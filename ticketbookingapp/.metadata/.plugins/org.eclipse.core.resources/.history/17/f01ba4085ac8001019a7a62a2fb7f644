<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Show Form</title>
    <meta charset="UTF-8"/>
</head>
<body>
<div>
    <a th:href="@{/admin/shows}">Back to Shows</a>
</div>
<hr/>

<h2 th:text="${show.id} != null ? 'Edit Show' : 'Add Show'"></h2>

<form th:action="@{/admin/shows}" method="post">
    <input type="hidden" name="id" th:value="${show.id}"/>

    <label>Movie:</label>
    <select name="movieId" required>
        <option value="">--select movie--</option>
        <option th:each="m : ${movies}"
                th:value="${m.id}"
                th:selected="${show.movie != null and show.movie.id == m.id}"
                th:text="${m.title}">
        </option>
    </select>
    <br/><br/>

    <label>Screen:</label>
    <select name="screenId" required>
        <option value="">--select screen--</option>
        <option th:each="s : ${screens}"
                th:value="${s.id}"
                th:selected="${show.screen != null and show.screen.id == s.id}"
                th:text="${s.name + ' - ' + s.theatre.name + ' (' + s.theatre.city + ')'}">
        </option>
    </select>
    <br/><br/>

    <label>Date:</label>
    <input type="date" name="showDate"
           th:value="${show.showDate}"/>
    <br/><br/>

    <label>Time:</label>
    <input type="time" name="showTime"
           th:value="${show.showTime}"/>
    <br/><br/>

    <label>Ticket Price:</label>
    <input type="number" step="0.01" name="ticketPrice"
           th:value="${show.ticketPrice}"/>
    <br/><br/>

    <button type="submit">Save</button>
</form>

</body>
</html>
